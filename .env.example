# ================================================================================
# Environment Configuration for 05-auth-service
# ================================================================================
# Following Gravity MicroServices standards from TEAM_PROMPT.md
# 
# ⚠️  SECURITY WARNING:
# - Never commit actual .env file to git
# - Always use strong passwords in production
# - Rotate secrets regularly
# - Use proper secrets management (HashiCorp Vault, AWS Secrets Manager, etc.)
# ================================================================================

# ==============================================================================
# Application Configuration
# ==============================================================================
APP_NAME=05-auth-service
APP_VERSION=1.0.0
DEBUG=false
LOG_LEVEL=INFO
ENVIRONMENT=development

# Application port (exposed to host)
PORT=8005

# ==============================================================================
# Database Configuration (PostgreSQL)
# ==============================================================================
# Database connection string
DATABASE_URL=postgresql://postgres:postgres@localhost:5405/auth_service

# Individual components (for flexibility)
DB_HOST=localhost
DB_PORT=5405
DB_NAME=auth_service
DB_USER=postgres
DB_PASSWORD=postgres

# Connection pool settings
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20
DB_POOL_TIMEOUT=30
DB_ECHO=false

# ==============================================================================
# Redis Configuration
# ==============================================================================
REDIS_URL=redis://localhost:6305/0
REDIS_HOST=localhost
REDIS_PORT=6305
REDIS_DB=0
REDIS_PASSWORD=
REDIS_MAX_CONNECTIONS=50

# ==============================================================================
# Security Configuration
# ==============================================================================
# JWT Secret (CHANGE IN PRODUCTION!)
SECRET_KEY=your-secret-key-change-in-production-min-32-chars
JWT_SECRET_KEY=your-jwt-secret-key-change-in-production
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# Password hashing
PASSWORD_MIN_LENGTH=8
PASSWORD_HASH_ALGORITHM=bcrypt

# ==============================================================================
# CORS Configuration
# ==============================================================================
CORS_ORIGINS=http://localhost:3000,http://localhost:8080
CORS_ALLOW_CREDENTIALS=true
CORS_ALLOW_METHODS=GET,POST,PUT,DELETE,PATCH,OPTIONS
CORS_ALLOW_HEADERS=*

# ==============================================================================
# Rate Limiting
# ==============================================================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_PER_HOUR=1000

# ==============================================================================
# Service Discovery (Consul)
# ==============================================================================
CONSUL_HOST=localhost
CONSUL_PORT=8500
SERVICE_DISCOVERY_ENABLED=false

# ==============================================================================
# External Services URLs (for inter-service communication)
# ==============================================================================
# API Gateway
API_GATEWAY_URL=http://localhost:8003

# Auth Service  
AUTH_SERVICE_URL=http://localhost:8005

# User Service
USER_SERVICE_URL=http://localhost:8006

# Notification Service
NOTIFICATION_SERVICE_URL=http://localhost:8007

# ==============================================================================
# Monitoring & Observability
# ==============================================================================
# Prometheus metrics
METRICS_ENABLED=true
METRICS_PORT=9090

# Jaeger tracing
TRACING_ENABLED=false
JAEGER_HOST=localhost
JAEGER_PORT=6831

# ==============================================================================
# Testing Configuration
# ==============================================================================
TEST_DATABASE_URL=postgresql://postgres:postgres@localhost:5432/test_auth_service
TEST_REDIS_URL=redis://localhost:6379/15

# ==============================================================================
# Service-Specific Configuration
# ==============================================================================
# OAuth2 Providers
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret
GITHUB_CLIENT_ID=your-github-client-id
GITHUB_CLIENT_SECRET=your-github-client-secret

# Session configuration
SESSION_COOKIE_NAME=session_id
SESSION_EXPIRE_SECONDS=3600